<div class="register-container">
   <div class="register-wrapper">
    <!-- Header Section -->
      <div class="register-header">
        <h1 class="app-tittle">SmartLaundry</h1>
        
         <p>Join us today! It takes only a few steps to create your account.</p>
      </div>
      <!--registration form !-->
      <mat-card class="register-card">
        <mat-card-content>
        <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="register-form">
            <!-- Name Input Field !-->
             <div class="name-row">
            <mat-form-field appearance="outline"class="full-width">
              <mat-label>First Name</mat-label>
              <input matInput 
                     formControlName="firstName" 
                     placeholder="Enter your first name"
                     [class.error]="registerForm.get('firstName')?.invalid && registerForm.get('firstName')?.touched">
              <!--<mat-icon matSuffix>person</mat-icon>--->
              <mat-error *ngIf="registerForm.get('firstName')?.invalid && registerForm.get('firstName')?.touched">
                {{ getErrorMessage('firstName') }}
              </mat-error>
            </mat-form-field>
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>Last Name</mat-label>
              <input matInput 
                     formControlName="lastName" 
                     placeholder="Enter your last name"
                     [class.error]="registerForm.get('lastName')?.invalid && registerForm.get('lastName')?.touched">
              <!--<mat-icon matSuffix>person</mat-icon>--->
              <mat-error *ngIf="registerForm.get('lastName')?.invalid && registerForm.get('lastName')?.touched">
                {{ getErrorMessage('lastName') }}
              </mat-error>
            </mat-form-field>
          </div>
            <!-- Email Input Field !-->
             <mat-form-field appearance="outline" class="full-width">
              <mat-label>Email</mat-label>
              <input matInput 
                     formControlName="email" 
                     placeholder="Enter your email"
                     [class.error]="registerForm.get('email')?.invalid && registerForm.get('email')?.touched">
              <!--<mat-icon matSuffix>email</mat-icon>--->
              <mat-error *ngIf="registerForm.get('email')?.invalid && registerForm.get('email')?.touched">
                {{ getErrorMessage('email') }}
              </mat-error>
            </mat-form-field>
          
          <!-- Phone Number Input Field !-->
          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Phone Number</mat-label>
            <input matInput 
                   type="tel" 
                   formControlName="phoneNumber" 
                   placeholder="+254712345678"
                   [class.error]="registerForm.get('phoneNumber')?.invalid && registerForm.get('phoneNumber')?.touched">
           <!----<mat-icon matSuffix>phone</mat-icon>---->
            <mat-error *ngIf="registerForm.get('phoneNumber')?.invalid && registerForm.get('phoneNumber')?.touched">
              {{ getErrorMessage('phoneNumber') }}
            </mat-error>
          </mat-form-field>

            <!-- Role Selection Field !-->
          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Select Your Role</mat-label>
            <mat-select formControlName="role" 
                        [class.error]="registerForm.get('role')?.invalid && registerForm.get('role')?.touched">
              <mat-option *ngFor="let roleInfo of roles" [value]="roleInfo.role">
                {{ roleInfo.label }}
              </mat-option>
            </mat-select>
            
            <mat-error *ngIf="registerForm.get('role')?.invalid && registerForm.get('role')?.touched">
              Please select your role
            </mat-error>
            </mat-form-field>
            <div class="password-row">
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>Password</mat-label>
              <input matInput 
                     [type]="hidePassword ? 'password' : 'text'" 
                     formControlName="password" 
                     placeholder="Enter your password"
                     [class.error]="registerForm.get('password')?.invalid && registerForm.get('password')?.touched">
             <button mat-icon-button matSuffix (click)="hidePassword = !hidePassword" type="button">
               <!---- <mat-icon>{{ hidePassword ? 'visibility_off' : 'visibility' }}</mat-icon>--->
                <!--<mat-icon>{{ hidePassword ? 'visibility_off' : 'visibility' }}</mat-icon>-->
              </button>
              <mat-error *ngIf="registerForm.get('password')?.invalid && registerForm.get('password')?.touched">
                {{ getErrorMessage('password') }}
              </mat-error>
            </mat-form-field>

            <mat-form-field appearance="outline" class="full-width">
              <mat-label>Confirm Password</mat-label>
              <input matInput 
                     [type]="hideConfirmPassword ? 'password' : 'text'" 
                     formControlName="confirmPassword" 
                     placeholder="Confirm your password"
                     [class.error]="registerForm.get('confirmPassword')?.invalid && registerForm.get('confirmPassword')?.touched">
              <button mat-icon-button matSuffix (click)="hideConfirmPassword = !hideConfirmPassword" type="button">
                <!--<mat-icon>{{ hideConfirmPassword ? 'visibility_off' : 'visibility' }}</mat-icon>-->
              </button>
              <mat-error *ngIf="registerForm.get('confirmPassword')?.invalid && registerForm.get('confirmPassword')?.touched">
                {{ getErrorMessage('confirmPassword') }}
              </mat-error>
            </mat-form-field>
          </div>

          <!-- Terms and Conditions -->
          <div class="terms-container">
            <mat-checkbox formControlName="agreeToTerms" 
                          [class.error]="registerForm.get('agreeToTerms')?.invalid && registerForm.get('agreeToTerms')?.touched">
              I agree to the <a href="#" class="terms-link">Terms and Conditions</a> and 
              <a href="#" class="terms-link">Privacy Policy</a>
            </mat-checkbox>
            <div class="error-message" 
                 *ngIf="registerForm.get('agreeToTerms')?.invalid && registerForm.get('agreeToTerms')?.touched">
              You must agree to the terms and conditions
            </div>
          </div>

          <!-- Submit Button -->
          <button mat-raised-button 
                  color="primary" 
                  type="submit" 
                  class="register-button"
                  [disabled]="isLoading">
            <mat-spinner *ngIf="isLoading" diameter="20" class="button-spinner"></mat-spinner>
            <span *ngIf="!isLoading">Create Account</span>
            <span *ngIf="isLoading">Creating Account...</span>
          </button>

        </form>
      </mat-card-content>
    </mat-card>

    <!-- Login Link -->
    <div class="login-link">
      <p>Already have an account? 
        <button mat-button color="primary" (click)="navigateToLogin()" class="link-button">
          Sign In
        </button>
      </p>
    </div>
  </div>
</div>